<!DOCTYPE html>
<html xmlns:wicket="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8">
	<title>Editor</title>
<style>
	.menu{
		width: 100%;
		text-align: center;
		display: block;
		margin: 0 auto 0 auto;
	}
	.form
	{
		width: 100%;
		text-align: justify;
		display: block;
		margin: 0 auto 0 auto;
	}
	.editor
	{
		position: absolute;

		left: 20%; /* (100% - width) / 2 */
		top: 15%;  /* (100% - height) / 2 */
	}
	.input
	{
		text-align: justify;
		display: block;
		margin: 0 auto 0 auto;
	}
</style>
<script>

	function encryptFun(){
		alert("de");			//deb
		let outputString = "";
		let inputString = document.getElementById("text").value;
		let password = document.getElementById("passwordTextField").value;
		for (let i = 0; i<inputString.toString().length-1; i++)
			outputString+=(String.fromCharCode((inputString.toString().charCodeAt(i)+256-password.toString().charCodeAt(i%password.toString().length))%256));
		document.getElementById("text").value = outputString;
		return outputString;
	};
	function decryptFun(){
		alert("de");			//deb
	let outputString = "";
	let inputString = document.getElementById("text").value;
	let password = document.getElementById("passwordTextField").value;
	for (let i = 0; i<inputString.toString().length-1; i++)
		outputString+=(String.fromCharCode((inputString.toString().charCodeAt(i)+256+password.toString().charCodeAt(i%password.toString().length))%256));
	document.getElementById("text").value = outputString;
	return outputString;
	};
</script>


</head>

<body>

<div wicket:id="menu" id="menu" class="menu">
	<a wicket:id="toTheory" href="Theory.html">Справка</a>
	<a wicket:id="toDirectoryInterface" href="DirectoryInterface.html">Хранилище</a>
</div>

<form wicket:id="form" class="form">
	<div class = "editor">
		<textarea  wicket:id = "text" height="90%" width="90%" rows="60" cols="150"  id="text"/>
	</div>

	<input wicket:id="wayToSaveFile"class="input">
	<button wicket:id = "save" class="input">Save</button>
	<input id = "passwordTextField" class="input">
	<button id = "encrypt" onclick="encryptFun()" class="input">Зашифровать</button>
	<button id = "decrypt" onclick="decryptFun()" class="input">Расшифровать</button>
</form>
<div wicket:id="debug"></div>
</body>
</html>